<section class="actions">
  <div>
    <button mat-raised-button color="primary" routerLink="/app/flow/save">
      <mat-icon> add </mat-icon>
      Enregistrer
    </button>
  </div>
  <div class="filters">
    <mat-form-field #searchComponent *ngIf="searchToggle" appearance="fill">
      <mat-label>Rechercher</mat-label>
      <input name="message" matInput />
      <button mat-button matSuffix mat-icon-button aria-label="send">
        <mat-icon>search</mat-icon>
      </button>
    </mat-form-field>
    <entity-autocomplete
      #entityComponent
      *ngIf="entityToggle"
      appearance="fill"
    ></entity-autocomplete>
    <labels *ngIf="labelsToggle" #labelsComponent [(labels)]="labels"></labels>

    <mat-form-field
      *ngIf="dateRangeToggle"
      #dateRangeComponent
      appearance="fill"
    >
      <mat-label>Enter a date range</mat-label>
      <mat-date-range-input [formGroup]="range" [rangePicker]="picker">
        <input matStartDate formControlName="start" placeholder="Depuis" />
        <input matEndDate formControlName="end" placeholder="Vers" />
      </mat-date-range-input>
      <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
      <mat-date-range-picker #picker></mat-date-range-picker>

      <mat-error *ngIf="range.controls.start.hasError('matStartDateInvalid')"
        >Invalid start date</mat-error
      >
      <mat-error *ngIf="range.controls.end.hasError('matEndDateInvalid')"
        >Invalid end date</mat-error
      >
    </mat-form-field>
  </div>
  <div class="toggles">
    <button
      mat-icon-button
      [color]="searchToggle ? 'warn' : ''"
      (click)="searchToggle = !searchToggle"
    >
      <mat-icon>search</mat-icon>
    </button>
    <button
      mat-icon-button
      [color]="labelsToggle ? 'warn' : ''"
      (click)="labelsToggle = !labelsToggle"
    >
      <mat-icon>label_outline</mat-icon>
    </button>
    <button
      mat-icon-button
      [color]="entityToggle ? 'warn' : ''"
      (click)="entityToggle = !entityToggle"
    >
      <mat-icon>domain</mat-icon>
    </button>
    <button
      mat-icon-button
      [color]="dateRangeToggle ? 'warn' : ''"
      (click)="dateRangeToggle = !dateRangeToggle"
    >
      <mat-icon>date_range</mat-icon>
    </button>
    <button
      mat-icon-button
      [matMenuTriggerFor]="mainFilters"
      aria-label="main filters"
    >
      <mat-icon>view_list</mat-icon>
    </button>
    <mat-menu #mainFilters="matMenu">
      <button mat-menu-item>
        <mat-icon>reorder</mat-icon>
        <span>Tout</span>
      </button>

      <button mat-menu-item>
        <mat-icon>save</mat-icon>
        <span>Enregistrés</span>
      </button>
      <button mat-menu-item>
        <mat-icon>inbox</mat-icon>
        <span>Recu</span>
      </button>
      <button mat-menu-item>
        <mat-icon>send</mat-icon>
        <span>Envoyés</span>
      </button>
    </mat-menu>
  </div>
</section>
<div class="flow-list">
  <flow class="mat-typography" *ngFor="let flow of flows" [flow]="flow"></flow>
</div>

<!-- loading -->
<!-- <empty-flow></empty-flow> -->
<!-- <search-flow-list></search-flow-list> -->

<mat-paginator [showFirstLastButtons]="true"> </mat-paginator>
<router-outlet></router-outlet>
